<!DOCTYPE html>
<html lang="en">

<head>
    <script>
        let total = [false, false, false, false, false, false, false, false, false, false];
        let trackingAnswers = [true, true, true, true, true, true, true, true, true, true,];
        let score = 0;
        var count = 0;
        var questions = [{
            "answerKey": "B",
            "choices": {
                //"label": ["A", "B", "C", "D"],
                "text": ["Shady areas increased.", "Food sources increased.", "Oxygen levels increased.", "Available water increased."]
            },
                "question": "One year, the oak trees in a park began producing more acorns than usual. The next year, the population of chipmunks in the park also increased. Which best explains why there were more chipmunks the next year?"
            },{
                "answerKey": "B",
                "choices": {
                    "text": [ "a leg muscle relaxing after exercise", "a bacterial population in the bloodstream", "several viral particles on the skin", "carbohydrates being digested in the stomach" ]

                },
                "question": "Which factor will most likely cause a person to develop a fever?"
            },{
                "answerKey": "A",
                "choices": {
                    "text":["contact lens", "motorcycle", "raincoat", "coffee pot"]
                },
                "question": "Which of the following is an example of an assistive device?"
            },{
                "answerKey": "D",
                "choices": {
                    "text":["cause the charge to build.", "increase and decrease the voltage.", "cause the current to change direction.", "stop and start the flow of current." ]
                },
                "question": "When a switch is used in an electrical circuit, the switch can"
            },{
                "answerKey": "A",
                "choices": {
                    "text":["muscular and skeletal", "digestive and muscular", "skeletal and respiratory", "respiratory and digestive"]
                },
                "question": "Which two body systems are directly involved in movement?"
            },{
                "answerKey": "C",
                "choices": {
                    "text":["boiling", "melting", "freezing", "evaporating"]
                },
                "question": "Which change in the state of water particles causes the particles to become arranged in a fixed position?"
            },{
                "answerKey": "B",
                "choices": {
                    "text":["basalt", "iron", "magma", "quartz"]
                },
                "question": "Earth's core is primarily composed of which of the following materials?"
            },{
                "answerKey": "C",
                "choices": {
                    "text":["pairing of chromosomes", "creation of haploid gametes", "segregation of alleles", "separation of chromatids"]
                },
                "question": "Which of the following events during meiosis contributes most to the variation within a species?"
            },{
                "answerKey": "B",
                "choices": {
                    "text":["the intestine, with squeezing.", "the mouth, with chewing and saliva.", "the stomach, with churning and acid.", "the esophagus, with pushing towards the stomach."]
                },
                "question": "In humans, the digestion process begins in"
            },{
                "answerKey": "A",
                "choices": {
                    "text":["chemical weathering", "mechanical weathering", "water erosion", "wind erosion"]
                },
                "question": "Many natural rock formations change color over time. In Utah, for example, iron oxidized and formed red, orange, and yellow rock. Which of the following is the cause of this change?"
            }];
        function incQ(){
            count++;
            if(count===(questions.length-1)){
                checkQ();
                document.getElementById("increm").disabled = true;
            }else{
                checkQ();
                document.getElementById("increm").disabled = false;
                document.getElementById("decrem").disabled = false;
            }
            document.getElementById("scorespot").innerHTML = score + " / " + questions.length;
            document.getElementById("qTracker").innerHTML = (count+1) + " / " + questions.length; 
        }
        function decQ(){
            count--;
            if(count===0){
                checkQ();
                document.getElementById("decrem").disabled = true;
            }else{
                checkQ();
                document.getElementById("increm").disabled = false;
                document.getElementById("decrem").disabled = false;
            }
            document.getElementById("scorespot").innerHTML = score + " / " + questions.length;
            document.getElementById("qTracker").innerHTML = (count+1) + " / " + questions.length;
        }
        function checkQ(){
            const questionSlot = document.getElementById("questionSlot");
            questionSlot.innerHTML = questions[count].question;
            document.getElementById("optionA").classList.remove("WOOHOO");
            document.getElementById("optionA").classList.remove("OHNO");
            document.getElementById("optionB").classList.remove("WOOHOO");
            document.getElementById("optionB").classList.remove("OHNO");
            document.getElementById("optionC").classList.remove("WOOHOO");
            document.getElementById("optionC").classList.remove("OHNO");
            document.getElementById("optionD").classList.remove("WOOHOO");
            document.getElementById("optionD").classList.remove("OHNO");
            document.getElementById("optionA").innerHTML = questions[count].choices.text[0];
            document.getElementById("optionB").innerHTML = questions[count].choices.text[1];
            document.getElementById("optionC").innerHTML = questions[count].choices.text[2];
            document.getElementById("optionD").innerHTML = questions[count].choices.text[3];          
        }
        function submitQ(){
            let selectedAnswer = document.getElementsByClassName("active");
            let a = document.getElementById("optionA");
            let b = document.getElementById("optionB");
            let c = document.getElementById("optionC");
            let d = document.getElementById("optionD");
            console.log(selectedAnswer[0].dataset.choice);// returns selection
            if(trackingAnswers[count]){
                trackingAnswers[count] = selectedAnswer[0].dataset.choice;
            }
		if(questions[count].answerKey==="A"){ a.classList.toggle("WOOHOO"); if(selectedAnswer[0].dataset.choice!=="B"){b.classList.toggle("OHNO");}if(selectedAnswer[0].dataset.choice!=="C"){c.classList.toggle("OHNO");}if(selectedAnswer[0].dataset.choice!=="D"){d.classList.toggle("OHNO");}
		}
		if(questions[count].answerKey==="B"){ b.classList.toggle("WOOHOO"); if(selectedAnswer[0].dataset.choice!=="A"){a.classList.toggle("OHNO");}if(selectedAnswer[0].dataset.choice!=="C"){c.classList.toggle("OHNO");}if(selectedAnswer[0].dataset.choice!=="D"){d.classList.toggle("OHNO");}
		}
		if(questions[count].answerKey==="C"){ c.classList.toggle("WOOHOO"); if(selectedAnswer[0].dataset.choice!=="A"){a.classList.toggle("OHNO");}if(selectedAnswer[0].dataset.choice!=="B"){b.classList.toggle("OHNO");}if(selectedAnswer[0].dataset.choice!=="D"){d.classList.toggle("OHNO");}
		}
		if(questions[count].answerKey==="D"){ d.classList.toggle("WOOHOO"); if(selectedAnswer[0].dataset.choice!=="A"){a.classList.toggle("OHNO");}if(selectedAnswer[0].dataset.choice!=="B"){b.classList.toggle("OHNO");}if(selectedAnswer[0].dataset.choice!=="C"){c.classList.toggle("OHNO");}
		}
            if(selectedAnswer[0].dataset.choice===questions[count].answerKey){
                alert('correct answer! :)');
                if(total[count]===false){
                    score++;
                }
            }else{
                selectedAnswer[0].classList.toggle("OHNO");
                alert('incorrect answer! :(');
            }
            total[count] = true; // answered
            selectedAnswer[0].classList.toggle("active");
            
            checker = total.every(Boolean);
            if(checker){
                alert("you got " + score + " questions correct out of " + questions.length);
                console.log(trackingAnswers);
                let qs = '';
                questions.forEach(question => {
                    qs += question.answerKey + ' ';
                });
                document.getElementById("scorespot").innerHTML = score + " / " + questions.length + '\nYour Answers: ' + trackingAnswers.toString() + "\ncorrect answers: " + qs;
                document.getElementById("qTracker").innerHTML = (count+1) + " / " + questions.length;
            }
            if(trackingAnswers[count]==='A' || trackingAnswers[count]==='B' || trackingAnswers[count]==='C' || trackingAnswers[count]==='D' ){
                document.getElementById("submission").disabled = true;
            }
        }
        function setQ(elm){
            var hold = elm.getAttribute('data-choice');
            console.log(hold);
            elm.classList.toggle("active");
            document.getElementById("submission").disabled = false;
            if(trackingAnswers[count]==='A' || trackingAnswers[count]==='B' || trackingAnswers[count]==='C' || trackingAnswers[count]==='D' ){
                document.getElementById("submission").disabled = true;
            }
            let a = document.getElementById("optionA");
            let b = document.getElementById("optionB");
            let c = document.getElementById("optionC");
            let d = document.getElementById("optionD");
            switch(hold){
                case"A":
                    b.classList.remove("active");
                    c.classList.remove("active");
                    d.classList.remove("active");
                    break;
                case"B":
                    a.classList.remove("active");
                    c.classList.remove("active");
                    d.classList.remove("active");
                    break;
                case"C":
                    a.classList.remove("active");
                    b.classList.remove("active");
                    d.classList.remove("active");
                    break;
                case"D":
                    a.classList.remove("active");
                    b.classList.remove("active");
                    c.classList.remove("active");
                    break;
            }
        }
    </script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HTML5 Quiz App</title>
  <style>
*{

 	 font-family: CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;
}
    /* Flexbox container to hold and center the quiz container */
    .flex-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            background-color: #f0f0f0;
        }

        /* Container for the quiz */
        #QuizContainer {
            width: 50vw;
            height: 100vh;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: #f9f9f9;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Styling the question */
        #questionSlot{
            font-size: 1.2rem;
            font-weight: bold;;
            width: auto;
            height: 150px; /* Limit the height of the question text */
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            line-clamp: 6;
            -webkit-line-clamp: 6; /* Limits text to 3 lines */
            overflow-x: auto;
            overflow-y: auto;
        }
        #qTracker{
            height: 25px;
        }
        /* Styling the unordered list */
        ul {
            list-style-type: none;
            padding: 0;
        }

        /* Styling each list item */
        li {
            background-color: #e9e9e9;
            margin: 10px 0;
            padding: 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
            display: flex;
            align-items: center;
        }

        /* Adding hover effect */
        li:hover {
            background-color: #d4d4d4;
        }

        /* Styling the letter options */
        li::before {
            content: attr(data-choice);
            font-weight: bold;
            margin-right: 15px;
            color: #555;
            background-color: #ddd;
            padding: 5px 10px;
            border-radius: 50%;
            display: inline-block;
            min-width: 30px;
            text-align: center;
        }

        /* Active or selected state */
        li.active {
            background-color: #c0e1ff;
            border: 1px solid #007bff;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            #quiz-container {
                padding: 15px;
            }

            li {
                padding: 10px;
            }

            li::before {
                margin-right: 10px;
                padding: 4px 8px;
            }

            #quiz-container p {
                font-size: 1rem;
            }
        }
    .WOOHOO{
        background-color: green;
        border: 1px solid goldenrod;
    }
    .OHNO{
        background-color: red;
        border: 1px solid orange;
    }

	/* CSS */
	.submit {
 	 background-color: #c2fbd7;
 	 border-radius: 100px;
 	 box-shadow: rgba(44, 187, 99, .2) 0 -25px 18px -14px inset,rgba(44, 187, 99, .15) 0 1px 2px,rgba(44, 187, 99, .15) 0 2px 4px,rgba(44, 187, 99, .15) 0 4px 8px,rgba(44, 187, 99, .15) 0 8px 16px,rgba(44, 187, 99, .15) 0 16px 32px;
 	 color: green;
  	cursor: pointer;
	  display: inline-block;
 	 font-family: CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;
 	 padding: 7px 20px;
 	 text-align: center;
	  text-decoration: none;
 	 transition: all 250ms;
 	 border: 0;
 	 font-size: 16px;
 	 user-select: none;
  	-webkit-user-select: none;
  	touch-action: manipulation;
	}

	.submit:hover {
  	box-shadow: rgba(44,187,99,.35) 0 -25px 18px -14px inset,rgba(44,187,99,.25) 0 1px 2px,rgba(44,187,99,.25) 0 2px 4px,rgba(44,187,99,.25) 0 4px 8px,rgba(44,187,99,.25) 0 8px 16px,rgba(44,187,99,.25) 0 16px 32px;
 	transform: scale(1.05) rotate(-1deg);
	}

	.up {
 	 background-color: beige;
 	 border-radius: 100px;
 	 box-shadow: rgba(55, 140, 135, .2) 0 -25px 18px -14px inset,rgba(44, 187, 99, .15) 0 1px 2px,rgba(44, 187, 99, .15) 0 2px 4px,rgba(44, 187, 99, .15) 0 4px 8px,rgba(44, 187, 99, .15) 0 8px 16px,rgba(44, 187, 99, .15) 0 16px 32px;
 	 color: green;
  	cursor: pointer;
	  display: inline-block;
 	 font-family: CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;
 	 padding: 7px 20px;
 	 text-align: center;
	  text-decoration: none;
 	 transition: all 250ms;
 	 border: 0;
 	 font-size: 16px;
 	 user-select: none;
  	-webkit-user-select: none;
  	touch-action: manipulation;
	}

	.up:hover {
  	box-shadow: rgba(44,187,99,.35) 0 -25px 18px -14px inset,rgba(44,187,99,.25) 0 1px 2px,rgba(44,187,99,.25) 0 2px 4px,rgba(44,187,99,.25) 0 4px 8px,rgba(44,187,99,.25) 0 8px 16px,rgba(44,187,99,.25) 0 16px 32px;
 	transform: scale(1.05) rotate(-1deg);
	}

	.down {
 	 background-color: beige;
 	 border-radius: 100px;
 	 box-shadow: rgba(55, 140, 135, .2) 0 -25px 18px -14px inset,rgba(44, 187, 99, .15) 0 1px 2px,rgba(44, 187, 99, .15) 0 2px 4px,rgba(44, 187, 99, .15) 0 4px 8px,rgba(44, 187, 99, .15) 0 8px 16px,rgba(44, 187, 99, .15) 0 16px 32px;
 	 color: green;
  	cursor: pointer;
	  display: inline-block;
 	 font-family: CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;
 	 padding: 7px 20px;
 	 text-align: center;
	  text-decoration: none;
 	 transition: all 250ms;
 	 border: 0;
 	 font-size: 16px;
 	 user-select: none;
  	-webkit-user-select: none;
  	touch-action: manipulation;
	}

	.down:hover {
  	box-shadow: rgba(44,187,99,.35) 0 -25px 18px -14px inset,rgba(44,187,99,.25) 0 1px 2px,rgba(44,187,99,.25) 0 2px 4px,rgba(44,187,99,.25) 0 4px 8px,rgba(44,187,99,.25) 0 8px 16px,rgba(44,187,99,.25) 0 16px 32px;
 	transform: scale(1.05) rotate(-1deg);
	}
    
  </style>
</head>

<body>
  <h1>Quiz Game!</h1>
  <h3>Try your hand at some of the following questions!</h3>

    <p>select your answer, and submit. only your first submission counts towards your score!</p>
    <p>feel free to reanswer questions as many time as you like!</p>
  <div class="flex-container">
    
    <div id="QuizContainer">
        
        <p id="questionSlot">One year, the oak trees in a park began producing more acorns than usual. The next year, the population of chipmunks in the park also increased. Which best explains why there were more chipmunks the next year?</p>
        <ul>
            <li onclick="setQ(this)" id="optionA" data-choice="A">Shady areas increased.</li>
            <li onclick="setQ(this)" id="optionB" data-choice="B">Food sources increased.</li>
            <li onclick="setQ(this)" id="optionC" data-choice="C">Oxygen levels increased.</li>
            <li onclick="setQ(this)" id="optionD" data-choice="D">Available water increased.</li>
        </ul>
        	<p id="qTracker"></p>
        	<button disabled id="decrem" class="up" onclick="decQ()">Previous</button>
        	<button id="increm" class="down" onclick="incQ()">Next</button>
        	<button class="submit" id="submission" onclick="submitQ()" disabled>Submit</button>

		<p style="padding-left:5px;">Correct Answers</p>
        	<p style="padding-left:5px;" id="scorespot"></p>
	</div>
    </div>
  </div>
  <script>
    window.onload = function(){
        // setup once elements are visible
        document.getElementById("scorespot").innerHTML = score + " / " + questions.length;
        document.getElementById("qTracker").innerHTML = (count+1) + " / " + questions.length;
    }
  </script>
</body>

</html>
